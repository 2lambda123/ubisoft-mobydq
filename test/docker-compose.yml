version: '3'
services:

  db-mysql:
    container_name: data-quality-test-db-mysql
    image: data-quality-test-db-mysql
    restart: always
    build:
      context: .
      dockerfile: ./db-mysql/Dockerfile
    environment:
      MYSQL_ROOT_PASSWORD: "1234"
    expose:
      - 3306
    ports:
      - 3306:3306
    networks:
      - data-quality-test-network

  db-postgresql:
    container_name: data-quality-test-db-postgresql
    image: data-quality-test-db-postgresql
    restart: always
    build:
      context: .
      dockerfile: ./db-postgresql/Dockerfile
    environment:
      POSTGRES_USER: "postgres"
      POSTGRES_PASSWORD: "1234"
      POSTGRES_DATABASE: "star_wars"
    expose:
      - 5432
    ports:
      - 5432:5432
    networks:
      - data-quality-test-network

  db-sql-server:
    container_name: data-quality-test-db-sql-server
    image: data-quality-test-db-sql-server
    restart: always
    build:
      context: .
      dockerfile: ./db-sql-server/Dockerfile
    environment:
      ACCEPT_EULA: "Y"
      SA_PASSWORD: "1234-abcd"
    command: ["/bin/bash", "entrypoint.sh"]
    expose:
      - 1433
    ports:
      - 1433:1433
    networks:
      - data-quality-test-network

networks:
  data-quality-test-network:
